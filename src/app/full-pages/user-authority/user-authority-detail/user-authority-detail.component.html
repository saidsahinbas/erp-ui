<div class="relative overflow-x-auto shadow-md sm:rounded-lg p-8">
  <!-- Authority Group Details -->
  <h1 class="text-2xl font-bold mb-4">Yetki Grubu Detayları</h1>
  <div *ngIf="authorityDetails" class="mb-6">
    <p><strong>ID:</strong> {{ authorityDetails.id }}</p>
    <p><strong>Yetki Grubu İsmi:</strong> {{ authorityDetails.name }}</p>
  </div>

  <!-- First Table: Users in Authority Group -->
  <h2 class="text-xl font-bold mt-8 mb-4">Yetki Grubundaki Kullanıcılar</h2>
  <table class="w-full text-sm text-left text-gray-500 dark:text-gray-400">
    <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
    <tr>
      <th class="px-6 py-3">ID</th>
      <th class="px-6 py-3">Kullanıcı Adı</th>
      <th class="px-6 py-3">E-posta</th>
      <th class="px-6 py-3">Kullanıcı Tipi</th>
      <th class="px-6 py-3">Durum</th>
    </tr>
    </thead>
    <tbody>
    <tr
      *ngFor="let user of paginatedUsers"
      class="bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600"
    >
      <td class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
        {{ user.id }}
      </td>
      <td class="px-6 py-4">
        {{ user.firstName }} {{ user.lastName }}
      </td>
      <td class="px-6 py-4">{{ user.email }}</td>
      <td class="px-6 py-4">{{ user.userType }}</td>
      <td
        class="px-6 py-4"
        [class.text-green-500]="user.status"
        [class.text-red-500]="!user.status"
      >
        {{ user.status ? 'Aktif' : 'Pasif' }}
      </td>
    </tr>
    </tbody>
  </table>

  <!-- Pagination for Users -->
  <nav class="mt-4">
    <ul class="inline-flex space-x-2 text-base">
      <li>
        <button
          [disabled]="currentPageUsers === 1"
          (click)="previousPage('users')"
          class="focus:outline-none text-white bg-purple-700 hover:bg-purple-800 focus:ring-4 focus:ring-purple-300 font-medium rounded-lg text-sm px-4 py-2 disabled:opacity-50 disabled:cursor-not-allowed"
        >
          Previous
        </button>
      </li>
      <li
        *ngFor="let page of pagesUsers; let i = index"
        class="flex"
      >
        <button
          (click)="goToPage('users', i + 1)"
          [class.bg-purple-700]="currentPageUsers === i + 1"
          [class.text-white]="currentPageUsers === i + 1"
          [class.bg-gray-200]="currentPageUsers !== i + 1"
          [class.text-gray-700]="currentPageUsers !== i + 1"
          class="focus:outline-none hover:bg-purple-800 focus:ring-4 focus:ring-purple-300 font-medium rounded-lg text-sm px-4 py-2"
        >
          {{ i + 1 }}
        </button>
      </li>
      <li>
        <button
          [disabled]="currentPageUsers === totalPagesUsers"
          (click)="nextPage('users')"
          class="focus:outline-none text-white bg-purple-700 hover:bg-purple-800 focus:ring-4 focus:ring-purple-300 font-medium rounded-lg text-sm px-4 py-2 disabled:opacity-50 disabled:cursor-not-allowed"
        >
          Next
        </button>
      </li>
    </ul>
  </nav>

  <!-- Second Table: Permissions in Authority Group -->
  <h2 class="text-xl font-bold mt-8 mb-4">Yetki Grubu İzinleri</h2>
  <table class="w-full text-sm text-left text-gray-500 dark:text-gray-400">
    <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
    <tr>
      <th class="px-6 py-3">Ekran İsmi</th>
      <th class="px-6 py-3">Okuma</th>
      <th class="px-6 py-3">Yazma</th>
      <th class="px-6 py-3">Güncelleme</th>
      <th class="px-6 py-3">Silme</th>
    </tr>
    </thead>
    <tbody>
    <tr
      *ngFor="let permission of paginatedPermissions"
      class="bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600"
    >
      <td class="px-6 py-4">{{ permission.screen.name }}</td>
      <td class="px-6 py-4">
        <input
          type="checkbox"
          [(ngModel)]="permission.read"
          (change)="togglePermission(permission, 'read')"
        />
      </td>
      <td class="px-6 py-4">
        <input
          type="checkbox"
          [(ngModel)]="permission.create"
          (change)="togglePermission(permission, 'create')"
        />
      </td>
      <td class="px-6 py-4">
        <input
          type="checkbox"
          [(ngModel)]="permission.update"
          (change)="togglePermission(permission, 'update')"
        />
      </td>
      <td class="px-6 py-4">
        <input
          type="checkbox"
          [(ngModel)]="permission.delete"
          (change)="togglePermission(permission, 'delete')"
        />
      </td>
    </tr>
    </tbody>
  </table>

  <!-- Pagination for Permissions -->
  <nav class="mt-4">
    <ul class="inline-flex space-x-2 text-base">
      <li>
        <button
          [disabled]="currentPagePermissions === 1"
          (click)="previousPage('permissions')"
          class="focus:outline-none text-white bg-purple-700 hover:bg-purple-800 focus:ring-4 focus:ring-purple-300 font-medium rounded-lg text-sm px-4 py-2 disabled:opacity-50 disabled:cursor-not-allowed"
        >
          Previous
        </button>
      </li>
      <li
        *ngFor="let page of pagesPermissions; let i = index"
        class="flex"
      >
        <button
          (click)="goToPage('permissions', i + 1)"
          [class.bg-purple-700]="currentPagePermissions === i + 1"
          [class.text-white]="currentPagePermissions === i + 1"
          [class.bg-gray-200]="currentPagePermissions !== i + 1"
          [class.text-gray-700]="currentPagePermissions !== i + 1"
          class="focus:outline-none hover:bg-purple-800 focus:ring-4 focus:ring-purple-300 font-medium rounded-lg text-sm px-4 py-2"
        >
          {{ i + 1 }}
        </button>
      </li>
      <li>
        <button
          [disabled]="currentPagePermissions === totalPagesPermissions"
          (click)="nextPage('permissions')"
          class="focus:outline-none text-white bg-purple-700 hover:bg-purple-800 focus:ring-4 focus:ring-purple-300 font-medium rounded-lg text-sm px-4 py-2 disabled:opacity-50 disabled:cursor-not-allowed"
        >
          Next
        </button>
      </li>
    </ul>
  </nav>
</div>
